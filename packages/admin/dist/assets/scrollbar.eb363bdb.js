/**
 * name: @vvap/admin
 * version: v0.0.1
 * description: 
 * author: lalifeier
 * email: lalifeier@gmail.com
 * homepage: https://lalifeier.github.io
 */
var k=Math.pow;import{o as B,f as A,w as F}from"./index.70794613.js";import{u as D}from"./useDesign.48c0b7cb.js";import{c as j}from"./format.faa86510.js";import{k as C,i as L,r as i,a as T,ad as R,ae as P,am as G,x as u,ac as K,aj as J,ap as O,w as Q,p as N,ak as Z,aq as ee,v as M,T as W,q as $,_ as z,a1 as I,a5 as U,u as X,a8 as Y}from"./vendor.5ada8107.js";import{_ as te}from"./plugin-vue_export-helper.21dcd24c.js";const ae=e=>({type:String,default:e}),le={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},se=({move:e,size:n,bar:v})=>({[v.size]:n,transform:`translate${v.axis}(${e}%)`}),oe={vertical:Boolean,size:String,move:Number,always:Boolean};var q=C({name:"Bar",props:oe,setup(e){const{prefixCls:n}=D("scrollbar"),v=L("scrollbar",{}),r=L("scrollbar-wrap",{}),l=i(),a=i(),y=i({}),f=i(!1);let d=!1,_=!1;const t=T(()=>le[e.vertical?"vertical":"horizontal"]),p=T(()=>se({size:e.size,move:e.move,bar:t.value})),S=o=>{var m;if(o.stopPropagation(),o.ctrlKey||[1,2].includes(o.button))return;(m=window.getSelection())==null||m.removeAllRanges(),H(o);const c=o.currentTarget;!c||(y.value[t.value.axis]=c[t.value.offset]-(o[t.value.client]-c.getBoundingClientRect()[t.value.direction]))},h=o=>{if(!a.value||!l.value||!r.value)return;const c=Math.abs(o.target.getBoundingClientRect()[t.value.direction]-o[t.value.client]),m=a.value[t.value.offset]/2,w=(c-m)*100/l.value[t.value.offset];r.value[t.value.scroll]=w*r.value[t.value.scrollSize]/100},H=o=>{o.stopImmediatePropagation(),d=!0,A(document,"mousemove",x),A(document,"mouseup",g),document.onselectstart=()=>!1},x=o=>{if(!l.value||!a.value||d===!1)return;const c=y.value[t.value.axis];if(!c)return;const m=(l.value.getBoundingClientRect()[t.value.direction]-o[t.value.client])*-1,w=a.value[t.value.offset]-c,V=(m-w)*100/l.value[t.value.offset];r.value[t.value.scroll]=V*r.value[t.value.scrollSize]/100},g=()=>{d=!1,y.value[t.value.axis]=0,B(document,"mousemove",x),B(document,"mouseup",g),document.onselectstart=null,_&&(f.value=!1)},s=()=>{_=!1,f.value=!!e.size},b=()=>{_=!0,f.value=d};return R(()=>{P(v.value,"mousemove",s),P(v.value,"mouseleave",b)}),G(()=>B(document,"mouseup",g)),()=>u(O,{name:n+"-fade"},{default:()=>[K(u("div",{ref:l,class:[n+"__bar","is-"+t.value.key],onMousedown:h},[u("div",{ref:a,class:n+"__thumb",style:p.value,onMousedown:S},null)]),[[J,e.always||f.value]])]})}});const ne={height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapClass:{type:[String,Array],default:""},wrapStyle:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:{type:Boolean,default:!1},tag:ae("div"),always:{type:Boolean,default:!1},minSize:{type:Number,default:20}};var re=C({name:"Scrollbar",props:ne,emits:["scroll"],setup(e,{slots:n,emit:v}){const{prefixCls:r}=D("scrollbar"),l=i(),a=i(),y=i();let f,d;const _=i("0"),t=i("0"),p=i(0),S=i(0),h=4,H=T(()=>{const s={};return e.height&&(s.height=j(e.height)),e.maxHeight&&(s.maxHeight=j(e.maxHeight)),[e.wrapStyle,s]}),x=()=>{if(!a.value)return;const s=a.value.offsetHeight-h,b=a.value.offsetWidth-h;S.value=a.value.scrollTop*100/s,p.value=a.value.scrollLeft*100/b,v("scroll",{scrollTop:a.value.scrollTop,scrollLeft:a.value.scrollLeft})},g=()=>{if(!a.value)return;const s=a.value.offsetHeight-h,b=a.value.offsetWidth-h,o=k(s,2)/a.value.scrollHeight,c=k(b,2)/a.value.scrollWidth,m=Math.max(o,e.minSize),w=Math.max(c,e.minSize);t.value=m+h<s?`${m}px`:"",_.value=w+h<b?`${w}px`:""};return Q(()=>e.noresize,s=>{s?(f==null||f(),d==null||d()):({stop:f}=ee(y,g),d=P("resize",g))},{immediate:!0}),N("scrollbar",l),N("scrollbar-wrap",a),R(()=>{e.native||Z(()=>g())}),()=>u("div",{ref:l,class:r},[u("div",{ref:a,class:[e.wrapClass,r+"__wrap",e.native?"":r+"__wrap--hidden-default"],style:H.value,onScroll:x},[u(e.tag,{ref:y,class:[r+"__view",e.viewClass],style:e.viewStyle},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}})]),e.native?"":[u(q,{move:p.value,size:_.value,always:e.always},null),u(q,{vertical:!0,move:S.value,size:t.value,always:e.always},null)]])}});const E=F(re);const ie={ref:"inner"},ce={class:"flex-content"},ue=C({setup(e){function n(v){}return(v,r)=>(M(),W("div",null,[u(X(E),{ref:"scrollbar",native:!1,height:"400px",onScroll:n},{default:$(()=>[z("div",ie,[(M(),W(I,null,U(20,l=>z("p",{key:l,class:"scrollbar-demo-item"},Y(l),1)),64))],512)]),_:1},512),u(X(E),null,{default:$(()=>[z("div",ce,[(M(),W(I,null,U(50,l=>z("p",{key:l,class:"scrollbar-demo-item"},Y(l),1)),64))])]),_:1})]))}});var ye=te(ue,[["__scopeId","data-v-d0a15ed0"]]);export{ye as default};
//# sourceMappingURL=scrollbar.eb363bdb.js.map
